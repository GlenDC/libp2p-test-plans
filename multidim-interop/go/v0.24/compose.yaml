services:
  listener:
    image: "go-v0.24"
    environment:
      - transport=quic
      - security=quic
      - muxer=quic
      - is_dialer=false
      - ip=10.0.0.2
    networks:
      controlplane:
      testnet:
        ipv4_address: 10.0.0.2
  dialer:
    image: "go-v0.24"
    environment:
      - transport=quic
      - security=quic
      - muxer=quic
      - is_dialer=true
      - ip=10.0.0.3
    networks:
      controlplane:
      testnet:
        ipv4_address: 10.0.0.3
  redis:
    image: "redis/redis-stack"
    environment:
      - transport=quic
      - security=quic
      - muxer=quic
      - is_dialer=false
    networks:
      controlplane:


networks:
  controlplane:
  testnet:
    ipam:
      driver: default
      config:
        - subnet: "10.0.0.0/24"
